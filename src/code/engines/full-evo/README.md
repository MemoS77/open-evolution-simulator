# Cреда в которой возможно существование различных многоклеточных организмов 

Каждый бот представляет собой одну клетку, 
но может образовывать и многоклеточный организм.

## У Каждой клетки есть параметры:
* Energy - энергия
* BorderColor - цвет рамки (hex rgb)
* color - цвет заполнения (hex rgb)
* Направленность 0-3 (противоположно месту крепления, но можно менять для стволовых и для любых одиночных)
* Тип клетки
* Функции сливания и мутации
* Регистры rX, rY, rZ для произвольной информации. Могут использоваться и читаться и самим ботом и присоединенными 

Клетка может быть следующих типов:

## Типы клеток
* 0 - Стволовая.
  * Произвести новую клетку (X- тип 0-4. по текущему направлению, если свободно)
  * Одиночные стволовых, могут сливаться с другими стволовыми беря всю их энергию и наследую часть информации
  

* 1 - Лист.
  * Фотосинтез (чем больше свободных клеток по 4 сторонам, тем больше света может получить (макс x4))  

* 2 - Броня/шип. Не может быть атакован другими организмами.
  * Удар - убить клетку впереди (кроме брони)


При получении энергии, клетка делится с родительской клеткой.

При смерти клетки в почве на ее месте остается часть энергии.
При превышении органики в почве, она становится отравленной, пока ее не съедят шипами.


На текущий момент есть только один тип организма для этого движка. 
Но можно создать и другие с другим алгоритмом работы, которые будут подчиняться тем же законам среды и иметь клетки тех же типов.

Листья и шипы могут двигаться вместе со стволовой.


## Завершающие команды
Каждая клетка организма при ходе должна выдать одну из команд:

* 0 - Бездействие (-1 энергии)
* 1 - Главное действие (-3 энергии)
* 2 - Двигаться (-3) (многоклеточный может двигаться только если все клетки послали эту команду и направлены в одну сторону) 
* 3 - Поворот влево (-2) только для одноклеточных и любых стволовых 
* 4 - Поворот вправо (-2)


# PlantBot
* X, Y, Z - числовые регистры. 

Обладает геномом из 2 генов. Один ген применяется если у стволовой клетки есть родитель, второй если нет.





Ген представляет собой массив чисел произвольной длины. Каждой число - команда. 
Набор команд одинаков для всех клеток, но ключевые действия 0-1 приводят к разным последствиям.


## Действия с регистрами
* 0-4 Основные команды  (завершающие)


* 5: X-- (если меньше нуля, 0)
* 6: X = Y
* 7: Y = X
* 8: Y = Y + X
* 9: Y = Y - X (если меньше нуля, 0)
* 10: X = энергия самой клетки
* 11: X = случайное число (0-100)
* 12: X = 2 
* 13: X = число равное следующей команде
* 14: Z = Y
* 15: X = 0
* 16: Y = 0
* 17: Y = Z 
* 18: X++
* 19: X = X предка (или ноль)
* 20: X = Y предка (или ноль)
* 21: X = Z регистр клетки предка
* 22: X = Здоровье предка или ноль


### Информация о ячейке на клетке тек. направление+x (максимум +3 клетки) и в сторону на Y%3 -1 
* 23: Y = 0-пустая, 1-свой организм, 2-клетка чужого 3-стена или не существует
* 24: Y = тип клетки бота +1 (0-если не бот)
* 25: Y = количество фотоэнергии 
* 26: Y = количество минералов клетки
* 27: Y = количество энергии клетки бота+1, 0 - если не бот


### Условные переходы. Если выполняется, перепрыгнуть две команды
* 28: если X > Y
* 29: если X < Y
* 30: если X == Y

### Прочее
* 31: Перейти на X команд вперед
* 32: Перейти на Y команд вперед


* 33 - Выполнить X (%5)
* 34 - Выполнить Y
* 35 - Выполнить Z

* 36 - Перейти на X команд назад
* 37 - x = rand 0, 1
* 38 - X = направление
* 39 - 3 команды назад


### Прочее 40+






 
