# Cреда в которой возможно существование различных многоклеточных организмов с равными возможностями действий для единичных клеток 

Каждый бот имеет ограниченный набор возможностей своих клеток.
Энергия равномерна распределена на все клетки.

Клетка может быть следующих типов:


## У Каждой клетки есть параметры:
* Energy - энергия
* Color - цвет (hex rgb)
* Направленность 0-3 (противоположно месту крепления, но можно менять для стволовых и для любых одиночных)
* Тип клетки

## Типы клеток
* 0 - Стволовая.
  * Произвести новую клетку (X- тип 0-4. по текущему направлению, если свободно)
  * При отделении становится новым отдельным организмом. 
  * Если при этом или последующем движении попадает на чужую стволовую одиночную клетку, 
  * того же типа бота, сливается с ней и отдает ей случайные гены.

* 1 - Лист.
  * Фотосинтез (чем больше свободных клеток по сторонам, тем больше света может получить (макс x8))
  * При отделении самоуничтожается и убивает соседнюю клетку, если там не было брони.

* 2 - Рот.
  * Потребляет минерал из почвы
  * При отделении самоуничтожается и убивает соседнюю клетку, если там не было брони.

* 3 - Броня/шип. Не может быть атакован другими организмами.
  * Удар - убить клетку впереди (кроме брони)
  * При движении уничтожает даже бронь соперника и уничтожается сама. 



При получении энергии, она распространяется равномерно по всему организму.

При смерти клетки в почве на ее месте остается минерал равной трети ее энергии.
При переполнении клетки, она становится отравленной, но может быть очищена шипом выстрелом шипа.

У всего организма есть тоже свой цвет


На текущий момент есть только один тип организма для этого движка. 
Но можно создать и другие с другим алгоритмом работы, которые будут подчиняться тем же законам среды и иметь клетки тех же типов.


## Завершающие команды
Каждая клетка организма при ходе должна выдать одну из команд:

* 0 - Бездействие (-1 энергии)
* 1 - Главное действие (-3 энергии)
* 2 - Двигаться (-3) (многоклеточный может двигаться только если все клетки послали эту команду и направлены в одну сторону) 
* 3 - Поворот влево (-2) только для одноклеточных и любых стволовых 
* 4 - Поворот вправо (-2)


# PlantBot
* X, Y, Z - числовые регистры. Z может считываться потомком. 

У всего организма в целом 
* Цвет вычисляемый из 4 геномов
* G - общий регистр для всего организма.

 
За работу каждой клетки этого бота отвечает отдельный ген. 
Ген представляет собой массив чисел произвольной длины. Каждой число - команда. 
Набор команд одинаков для всех клеток, но ключевые действия 0-1 приводят к разным последствиям.


## Действия с регистрами
* 0-2 Основные команды  (завершающие)

* 4: X++ 
* 5: X-- (если меньше нуля, 0)
* 6: X = Y
* 7: Y = X
* 8: Y = Y + X
* 9: Y = Y - X (если меньше нуля, 0)
* 10: X = энергия самой клетки
* 11: X = случайное число (0-3)
* 12: X = число клеток в организме
* 13: X = число равное следующей команде
* 14: Z = Y
* 15: X = 0
* 16: Y = 0
* 17: Y = Z свой
* 18: G = Y
* 19: Y = G
* 20: Y = Z регистр клетки предка

### Информация о ячейке на клетке тек. направление+x (максимум +3 клетки) 
* 21: Y = 0-пустая, 1-отравленная 2-клетка своего организма, 3-клетка чужого 4-стена или не существует
* 22: Y = тип клетки бота +1 (0-если не бот)
* 23: Y = количество фотоэнергии 
* 24: Y = количество минералов клетки
* 25: Y = количество энергии бота, 0 - если не бот


### Условные переходы. Если выполняется, перепрыгнуть две команды
* 26: если X > Y
* 27: если X < Y
* 28: если X == Y
* 29: если X != Y

### Прочее
* 30: Перейти на X команд вперед
* 31: Перейти на Y команд вперед
* Пустая команда





 
